/*******************************************************************************

  OPENAIRINTERFACE 0/1/2/3
  Copyright(c) 1999 - 2010 EURECOM

  This program is free software; you can redistribute it and/or modify it
  under the terms and conditions of the GNU General Public License,
  version 2, as published by the Free Software Foundation.

  This program is distributed in the hope it will be useful, but WITHOUT
  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
  more details.

  You should have received a copy of the GNU General Public License along with
  this program; if not, write to the Free Software Foundation, Inc.,
  51 Franklin St - Fifth Floor, Boston, MA 02110-1301 USA.

  The full GNU General Public License is included in this distribution in
  the file called "COPYING".

  Contact Information:
  Openair Admin <openair_admin@eurecom.fr>
  Mailing List <openair_tech@eurecom.fr>
  Forums  http://forums.eurecom.fr/openairinterface
  Eurecom, 2229, route des cretes, 06560 Valbonne Sophia Antipolis, France

*******************************************************************************/
/*________________________OPENAIR/OPENAIR3/________________________

 File    : INSTALL
 Authors : OpenAir3
 Company : EURECOM
 Emails  : openair3@eurecom.fr
________________________________________________________________*/

-------------------------
Table of contents
-------------------------

The content of this readme is the following:

	0) System requirements
	1) Installation of SYSLOGs Servers on MAGs
	2) Miscallaneous commands to execute
	3) PMIP6D Compilation
	
-----------------------------------------
0) System Requirements
-----------------------------------------

	UBUNTU linux distribution is a mandatory environment to run PMIP6D. We recommend you UBUNTU 10.04 x86 LTS version.
		
-------------------------------------------------------------------------------
1) Installation of SYSLOGs Servers on MAGs (It does not have to be done on LMA)
-------------------------------------------------------------------------------

	1.1) Each MAG machine has to run a SYSLOG Server on it.
		So on each machine that you use as MAG, you have to install a SYSLOG server :
		Installation of the SOCKLOG and SYSKLOGD packages :
			$ apt-get install socklog sysklogd

		Edit and change the Syslog server configuration :
			$ emacs /etc/syslog.conf 
				-> In this file, look for the line containing local7.info and change it to have this -> "local7.info   /var/log/cisco_ap.log"
				-> In case the line wouldn't exist, go at the bottom of the text file and add this line "local7.info   /var/log/cisco_ap.log"
			$ touch /var/log/cisco_ap.log
				-> The file has to exist before to be used
			$ emacs /etc/default/syslogd
				-> You should have the option "-r" enabled for the SYSLOG Daemon. So be sure you have -> SYSLOGD= "-r"
			$ /etc/init.d/sysklogd restart
				-> We restart the syslog daemon to take into account the modifications we just did

	1.2) Each Access Point should have their SYSLOG client enabled.
		So on each Access Point you have to do what follows :
		On the CISCO SERIES 1100 ACCESS POINT web interface, go to EVENT LOG, then to CONFIGURATION and then add the MAG IP Address on which the syslog server is running. 
			Access Point Web Interface (10.0.0.1) --> EVENT LOG --> CONF --> Put SYSLOG SERVER's IP ADDRESS 

-----------------------------------------
2) Miscallaneous commands to execute
-----------------------------------------

	2.1) On some UBUNTU versions, you might have a problem of "config.h file not found". A simple symbolic link is enough to avoid this error.
		$ ln -s /usr/src/linux-source-XX.XX.XX/include/linux/autoconf.h /usr/src/linux-sources-XX.XX.XX/include/linux/config.h

	2.2) Radius Client compilation :
		In the directory freeradiusclient-1.1.6/
			$ ./configure
			$ make
			$ make install

	2.3) One of the specificity of a PMIP Domain is that the Mobile Node should not be aware of its mobility inside the PMIP Domain.
		One of the way to achieve this is to copy the MAC Address of one of the MAG and duplicate it for all the MAG.
			It can easily be done under linux environment by typing :
				$ ifconfig ethX down //(with ethX corresponding to your interface)
				$ macchanger -m XX:XX:XX:XX:XX:XX ethX //(with XX:XX:XX:XX:XX:XX equals to your MAG1's MAC Address)
				$ ifconfig ethX up
			WARNING: you have to repeat it everytime you reboot the machine. We suggest you to place these commands in script automatically executed at the boot of the machine.
		Moreover, your Access Points should not add their MAC Address to the IP Packets that they forward. To do this, you should put your Access Points in a MASQUERADING mode. 
		
-----------------------------------------
3) PMIP6D Compilation
-----------------------------------------

	At the root of PMIP6D directory, execute :
		$ make
		
	WARNING : If you have some issues during the PMIP6D compilation, please look into the BUGS file. If you are still facing any issue, please report it to us using the following email "openair_tech@eurecom.fr"
