\documentclass[a4paper,10pt]{article}

\usepackage[pdftex,dvips]{graphicx}
\usepackage[T1]{fontenc}
\usepackage{url}
\usepackage[top=2cm, bottom=2cm, left=2cm, right=2cm]{geometry}



\newcommand{\printfile}[2][]{
 \begin{minipage}{8cm}
  \centering
  %\includegraphics[width=8cm]{/extras/kaltenbe/CNES/emos_postprocessed_data/#2}
  %\includegraphics[width=8cm]{/emos/EMOS/#1}
  \url{#2}: #1

 \end{minipage}
}

%\addtolength{\textwidth}{3cm}
%\setlength{\marginparwidth}{0cm}
%\setlength{\hoffset}{0cm}

\begin{document}
% \section{Mode 1}
% 
% \printfile{./Mode1/20100526_mode1_parcours1_part4_part5/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode1/20100527_mode1_parcours1/RX_RSSI_dBm_gps.jpg}
% 
% \section{Mode 2}
% \printfile{./Mode2/20100510_mode2_parcours1_part1/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode2/20100510_mode2_parcours1_part2/RX_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode2/20100510_mode2_parcours1_part3.1/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode2/20100510_mode2_parcours1_part3.2/RX_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode2/20100511_mode2_parcours1_part4_5_6/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode2/20100511_mode2_parcours2_part5/RX_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode2/20100512_mode2_parcours2_part7/RX_RSSI_dBm_gps.jpg}
% %\printfile{./Mode2/20100512_mode2_parcours2_part7/nomadic/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode2/20100518_mode2_parcours1_part6.1/RX_RSSI_dBm_gps.jpg}
% %\printfile{./Mode2/20100518_mode2_parcours1_part6.1/nomadic/RX_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode2/20100518_mode2_parcours1_part6.2/RX_RSSI_dBm_gps.jpg}
% %\printfile{./Mode2/20100518_mode2_parcours1_part6.2/nomadic/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode2/20100518_mode2_parcours1_part6.3/RX_RSSI_dBm_gps.jpg}
% %\printfile{./Mode2/20100518_mode2_parcours1_part6.3/nomadic/RX_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode2/20100519_mode2_parcours1_part7.1/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode2/20100519_mode2_parcours1_part7.2/RX_RSSI_dBm_gps.jpg}
% %\printfile{./Mode2/20100519_mode2_parcours1_part7.2/nomadic/RX_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode2/20100519_mode2_parcours1_part7.3/RX_RSSI_dBm_gps.jpg}
% %\printfile{./Mode2/20100519_mode2_parcours1_part7.3/nomadic/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode2/20100520_mode2_parcours1_part4_part5/RX_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode2/20100520_mode2_parcours1_part9_parcours2_part1/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode2/20100521_mode2_parcours2_part1_part2/RX_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode2/20100524_mode2_parcours2_part3_part4.1/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode2/20100524_mode2_parcours2_part3_part4.2/RX_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode2/20100524_mode2_parcours2_part3_part4.3/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode2/20100525_mode2_parcours2_part4_part8_part9_part10.1/RX_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode2/20100525_mode2_parcours2_part4_part8_part9_part10.2/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode2/20100525_mode2_parcours2_part4_part8_part9_part10.3/RX_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode2/20100607_VTP_MODE2_PARCOURS1_S2_3/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode2/20100608_VTP_MODE2_PARCOURS1_S7_9/RX_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode2/20100608_VTP_MODE2_PARCOURS1_S8/RX_RSSI_dBm_gps.jpg}
% 
% \section{Mode 6}
% 
% \printfile{./Mode6/20100528_mode6_parcours1_section1/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode6/20100528_mode6_parcours1_section2/RX_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode6/20100608_VTP_MODE6_ZONES_PUSCH_PART1/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode6/20100608_VTP_MODE6_ZONES_PUSCH_PART2/RX_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode6/20100608_VTP_MODE6_ZONES_PUSCH_PART3/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode6/20100609_VTP_MODE6_ZONES_PUSCH_PART4/RX_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode6/20100610_VTP_MODE6_ZONES_PUSCH_UPDATE.1/RX_RSSI_dBm_gps.jpg}
% \printfile{./Mode6/20100610_VTP_MODE6_ZONES_PUSCH_UPDATE.2/RX_RSSI_dBm_gps.jpg}
% 
% \section{UL}
% \printfile{./Mode6/20100608_VTP_MODE6_ZONES_PUSCH_PART3/UL_RSSI_dBm_gps.jpg}
% \printfile{./Mode6/20100608_VTP_MODE6_ZONES_PUSCH_PART2/UL_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode6/20100608_VTP_MODE6_ZONES_PUSCH_PART1/UL_RSSI_dBm_gps.jpg}
% \printfile{./Mode6/20100609_VTP_MODE6_ZONES_PUSCH_PART4/UL_RSSI_dBm_gps.jpg}
% 
% \printfile{./Mode6/20100610_VTP_MODE6_ZONES_PUSCH_UPDATE.1/UL_RSSI_dBm_gps.jpg}
% \printfile{./Mode6/20100610_VTP_MODE6_ZONES_PUSCH_UPDATE.2/UL_RSSI_dBm_gps.jpg}
% 
% \section{UL ideal}
% \printfile{./Mode6/20100608_VTP_MODE6_ZONES_PUSCH_PART3/UL_throughput_ideal_2Rx_gps.jpg}
% \printfile{./Mode6/20100608_VTP_MODE6_ZONES_PUSCH_PART2/UL_throughput_ideal_2Rx_gps.jpg}
% 
% \printfile{./Mode6/20100608_VTP_MODE6_ZONES_PUSCH_PART1/UL_throughput_ideal_2Rx_gps.jpg}
% \printfile{./Mode6/20100609_VTP_MODE6_ZONES_PUSCH_PART4/UL_throughput_ideal_2Rx_gps.jpg}
% 
% \printfile{./Mode6/20100610_VTP_MODE6_ZONES_PUSCH_UPDATE.1/UL_throughput_ideal_2Rx_gps.jpg}
% \printfile{./Mode6/20100610_VTP_MODE6_ZONES_PUSCH_UPDATE.2/UL_throughput_ideal_2Rx_gps.jpg}

%\section{all plots}

\section{Introduction}

This document summarizes the results of the LTE measurement campaign that was conducted by Eurecom and Sogeti April-July 2010 for the CNES.

The Eurecom testbench implements the LTE 3GPP release 8.6 \cite{3gpp_docs} with 5 MHz bandwidth and TDD uplink-downlink configuration 3 (i.e., there are 6 downlink subframes and 3 uplink subframes in a frame of 10ms). Extended cyclic prefix is used in both UL and DL. The carrier frequency is 859.6 Mhz. 
 
The measurement methodology and specification of the post processing are described in \cite{measurments_spec}. The measurment sites are 
\begin{itemize}
 \item Bournazel (close to Cordes-sur-ciel)
 \item Penne
 \item Ambialet
\end{itemize}
The are described in more detail in \cite{cordes_desc,penne_desc,ambialet_desc}. A list of all the measurements taken is given in \cite{measurments_spreadsheet}. 

According to the test plan \cite{}, the recorded measurements are divided into several directories
\begin{center}
% use packages: array
\begin{tabular}{l|p{6cm}}
Type of measurement & Routes taken \\ 
\hline
Interference & exterior road \\ 
Coverage & exterior road \\ 
Mode1 & parcours 2 \\ 
Mode2 & parcours 1 and 2 \\ 
Mode6 & parcours 2, zones PUSCH \\ 
Mode2 update\footnote{only at the site in Bournazel} & After a bug\footnote{The receiver for the PBCH was always assuming transmission mode 1. This caused a slight degradation in the performance in mode2, but only at the cell edge (at high SNR, both receiver structures work fine).} in the reception of the PBCH in transmission mode 2 was discovered, some of the routes of mode2 were done again. This data is only used for the evaluation of the PBCH performance. 
\end{tabular}
\end{center}



\section{Interference measurements}

After setting up the eNB and UE at a specific cell site, interference measurement (IM) is the very first and most important step of measurement campaign. Interference measurements are conducted to make sure that under test frequency band is exclusively used for the campaign and no other operator is using this frequency band in a specific cell. The following two figures show the measured interference in dBm at the UE and at the eNB.


\printfile[Interference at eNb]{Interference/20100421 interference eNb + DL test/RX_I0_dBm.pdf}
\printfile[Interference at UE]{Interference/results/RX_RSSI_dBm_gps.jpg}


\section{RX RSSI}


The received signal strength indicator (RSSI) is a measure of the strength of signal which is received at the antenna. Rx RSSI of both UE and eNB measured during coverage runs and vehicular test procedures is plotted on the regional map of the specific cell as well as a function of time. We show the received signal strength in dBm for the coverage run, the measurements in mode 1, 2, and 6 as well as the uplink RSSI. The path loss evaluation includes the data of all the measurements.


\subsection{Coverage}
\printfile{Coverage/results/RX_RSSI_dBm_gps.jpg}
\printfile{Coverage/results/RX_RSSI_dBm.pdf}

\printfile{Coverage/results/UL_RSSI_dBm_gps.jpg}
\printfile{Coverage/results/UL_RSSI_dBm.pdf}

\subsection{Mode 1}
\printfile{Mode1/results/RX_RSSI_dBm_gps.jpg}
\printfile{Mode1/results/RX_RSSI_dBm.pdf}

\printfile{Mode1/results/UL_RSSI_dBm_gps.jpg}
\printfile{Mode1/results/UL_RSSI_dBm.pdf}

\subsection{Mode2}





\printfile{Mode2/results/RX_RSSI_dBm_gps.jpg}
\printfile{Mode2/results/RX_RSSI_dBm.pdf}

\printfile{Mode2_update/results/UL_RSSI_dBm_gps.jpg}
\printfile{Mode2_update/results/UL_RSSI_dBm.pdf}

\subsection{Mode6}
\printfile{Mode6/results/RX_RSSI_dBm_gps.jpg}
\printfile{Mode6/results/RX_RSSI_dBm.pdf}

\printfile{Mode6/results/UL_RSSI_dBm_gps.jpg}
\printfile{Mode6/results/UL_RSSI_dBm.pdf}

\subsection{Path loss}
\printfile{results/RX_RSSI_dBm_dist_bars.pdf}
\printfile{results/RX_RSSI_dBm_dist_with_PL.pdf}


\section{PBCH comparison}
We show the frame error rate on the PBCH in mode 1 and 2. A more detailed comparison of some interresing parts of the routes will be given in section \ref{sec:dist_travelled}.

\printfile{Mode1/results/PBCH_FER.pdf}
\printfile{Mode1/results/PBCH_fer_gps.jpg}

\printfile{Mode2_update/results/PBCH_FER.pdf}
\printfile{Mode2_update/results/PBCH_fer_gps.jpg}

\section{Rice Factor}

\printfile{Mode2/results/K_factor_gps.jpg}

\section{UE mode comparison}
The following figures show the UE mode of the different measurments. The UE mode is defined in the following table.

\begin{center}
% use packages: array
\begin{tabular}{l|p{6cm}}
UE mode & meaning \\ 
\hline
0 (NOT SYNCHED) & Not synchronized \\ 
1 (PRACH) & UE synchronized to eNB (DL), trying to establish UL using the PRACH\\ 
2 (RAR) & eNB received PRACH, returns RAR \\ 
3 (PUSCH) & UL connection established
\end{tabular}
\end{center}


\printfile{Mode1/results/UE_mode_gps.jpg}
\printfile{Mode2/results/UE_mode_gps.jpg}

\printfile{Mode2_update/results/UE_mode_gps.jpg}
\printfile{Mode6/results/UE_mode_gps.jpg}

\section{L1 (coded) Throughput}


\subsection{Introduction}


In the LTE specification of 5MHz there are 25 Physical Resource Blocks (PRB). An extended cyclic prefix is used making the resource elements(RE) equal to 144 in one subframe of one PRB. Out of these 144 REs 36 are used for control signals and another 12 are used as cell specific reference signals so the effective REs for data transmission in one PRB in subframe are then, 144-36-12 = 96. Since there are 25 PRBs so the total number of available REs in one subframe become then 25 * 96 = 2400 REs. This results in a maximum throughput of \ldots

[we can copy-past text from the measurement methodology document here. Don't forget the uplink]

\subsubsection{Ideal Throughput Calculation}
The channel estimation is done through 200 cell specific reference signals making 200/25 = 8 in each PRB in each subframe. So in each PRB 8 channel estimates are obtained and for these 8 channel estimates, capcity is calculated. 

[show capacity formulas for all modes here]


Then capacity of rest of 96 REs is extrapolated by multiplying the sum capacity of 8 channel estimates by the factor of 12 which which gives us the sum capacity of one PRB for one subframe. The same procedure is done for the rest of 24 PRBs and at the end their cumulative sum is taken giving us the downlink throughput of one complete subframe. Since Uplink-downlink configuration 3 is used in which there are 6 downlink subframes in a frame so then the sum capacity of one subframe is multiplied by the factor of 6 to calculate the downlink throughput of one frame. 

One frame in LTE is of 1ms duration. In order to get the downlink throughput per second, the downlink throughput of 100 frames is added together giving the throughput in bits per seconds.

In ideal capacity calculation the downlink capacity is measured for the single antenna and two antennas UE.  

For the ideal curves we use the channel measurments from mode 2.

\subsubsection{Modem Throughput Calculation}



\subsection{CDF}

% \printfile{Mode1/results/DLSCH_throughput_cdf_comparison.pdf}
% \printfile{Mode2/results/DLSCH_throughput_cdf_comparison.pdf}
% \printfile{Mode6/results/DLSCH_throughput_cdf_comparison.pdf}

We plot the CDF of the throughput that was measured with our modem as well as the ideal throughputs as explained in the Introduction. In the first plot the data includes all the measurment points, even when the UE was not connected (in which case the throughput is 0). Note that data for the ideal curves is the same as for mode 2. 

However, since the routes of the measurements for mode 1 and mode 6 were not exactly the same as for mode 2 (measurments have not be started and stopped at the same points, routes were taken in different orders, crashes of the equipment, \ldots), a comparison of the outage between the different modes is unfair. Therefore in a second comparison we only compare the points where the UE was connected. 

Last but not least we show the throughput of the UL, where we have only used the measurements of mode 6.

\printfile{results/DLSCH_throughput_cdf_comparison.pdf}
\printfile{results/DLSCH_throughput_connected_cdf_comparison.pdf}

\printfile{Mode6/results/UL_throughput_cdf_comparison.pdf}


\subsection{Time}

\printfile{Mode1/results/DLSCH_throughput.pdf}
\printfile{Mode2/results/DLSCH_throughput.pdf}

\printfile{Mode6/results/DLSCH_throughput.pdf}
\printfile{Mode2/results/coded_throughput_time_1stRx.pdf}

\printfile{Mode2/results/coded_throughput_time_2ndRx.pdf}
\printfile{Mode2/results/coded_throughput_time_2Rx.pdf}

\printfile{Mode6/results/UL_throughput.pdf}


\subsection{Map}

\printfile{Mode1/results/DLSCH_troughput_gps.jpg}
\printfile{Mode2/results/DLSCH_troughput_gps.jpg}

\printfile{Mode6/results/DLSCH_troughput_gps.jpg}
\printfile{Mode6/results/UL_throughput_gps.jpg}

\printfile{Mode2/results/coded_throughput_Alamouti_gps_2Rx.jpg}
\printfile{Mode2/results/coded_throughput_SISO_gps_2Rx.jpg}

\printfile{Mode2/results/coded_throughput_feedbackBeamforming_gps_2Rx.jpg}
\printfile{Mode2/results/coded_throughput_optBeamforming_gps_2Rx.jpg}

\printfile{Mode6/results/UL_throughput_ideal_1Rx_gps.jpg}
\printfile{Mode6/results/UL_throughput_ideal_2Rx_gps.jpg}

\subsection{Distance}

\printfile{Mode1/results/DLSCH_throughput_dist.pdf}
\printfile{Mode2/results/DLSCH_throughput_dist.pdf}

\printfile{Mode6/results/DLSCH_throughput_dist.pdf}
\printfile{Mode6/results/UL_throughput_dist.pdf}

%\printfile{Mode2/results/ideal_throughput_dist_mode1_1stRx.pdf}
%\printfile{Mode2/results/ideal_throughput_dist_mode1_2ndRx.pdf}

\printfile{Mode2/results/ideal_throughput_dist_mode1_2Rx.pdf}
%\printfile{Mode2/results/ideal_throughput_dist_mode2_1stRx.pdf}
%
%\printfile{Mode2/results/ideal_throughput_dist_mode2_2ndRx.pdf}
\printfile{Mode2/results/ideal_throughput_dist_mode2_2Rx.pdf}

%\printfile{Mode2/results/ideal_throughput_dist_mode6_feedbackq_1stRx.pdf}
\printfile{Mode2/results/ideal_throughput_dist_mode6_feedbackq_2Rx.pdf}
%
%\printfile{Mode2/results/ideal_throughput_dist_mode6_maxq_1stRx.pdf}
\printfile{Mode2/results/ideal_throughput_dist_mode6_maxq_2Rx.pdf}

\printfile{Mode6/results/UL_throughput_ideal_1Rx_dist.pdf}
\printfile{Mode6/results/UL_throughput_ideal_2Rx_dist.pdf}

\begin{table}
\centering
\begin{tabular}{l|l|l|l}
Dist (km) & Mode 1 & Mode 2 & Mode 6\\
\hline
0--1 &   0.9383 &   0.6966 &   0.9771\\
1--2 &   0.9827 &   0.9318 &   0.9701\\
2--3 &   0.8842 &   0.7704 &   0.8900\\
3--4 &   0.7433 &   0.6468 &   0.6591\\
4--5 &   0.7743 &   0.7886 &   0.7733\\
5--6 &   0.5794 &   0.5523 &   0.5955\\
6--7 &   0.3655 &   0.4885 &   0.5915\\
7--8 &   0.5126 &   0.5354 &   0.7587\\
8--9 &   0.5105 &   0.5339 &   0.5628\\
9--10 &    0.3728 &   0.3897 &   0.2421\\
10--11 &   0.4400 &   0.3487 &   0.4488\\
11--12 &   0.4279 &   0.4098 &   0.4582\\
12--13 &   0.2374 &   0.2106 &   0.2939\\
13--14 &   0.1625 &   0.2037 &   0.1122\\
14--15 &   0.2809 &   0.1788 &   0.2536\\
15--16 &   0.1053 &   0.1839 &   0.0649\\
16--17 &   0.3062 &   0.2259 &   0.4022\\
\end{tabular}
\caption{Service coverage for all three modes in percent.}
\end{table}

\subsection{Distance travelled}
\label{sec:dist_travelled}
For a closer comparison of the 

For the comparsion over distance travelled we select a small but representative portion of the measurements shown in the next figure.

TODO: add PBCH FER for zoom 1 and 2 (this requires to select the correspondig portion of the mode2 update); plot CQI and CQI gain


\printfile[Map of zoom 1]{results/all_modes_comparison_rssi_dBm.jpg}
\printfile[RSSI comparison of zoom 1]{results/all_modes_comparison_rssi_dBm.pdf}

\printfile[DLSCH throughput of zoom 1]{results/all_modes_comparison_troughput_distance_travelled.pdf}
\printfile[DLSCH CQI of zoom 1]{results/all_modes_comparison_cqi_distance_travelled.pdf}

\printfile[Map of zoom 2]{results/all_modes_comparison2_rssi_dBm.jpg}
\printfile[RSSI comparison of zoom 2]{results/all_modes_comparison2_rssi_dBm.pdf}

\printfile[DLSCH throughput of zoom 2]{results/all_modes_comparison2_troughput_distance_travelled.pdf}
\printfile[DLSCH CQI of zoom 2]{results/all_modes_comparison2_cqi_distance_travelled.pdf}

\printfile[Map of zoom 3]{results/all_modes_comparison3_rssi_dBm.jpg}
\printfile[RSSI comparison of zoom 3]{results/all_modes_comparison3_rssi_dBm.pdf}

\printfile[DLSCH throughput of zoom 3]{results/all_modes_comparison3_troughput_distance_travelled.pdf}
\printfile[PBCH FER of zoom 3]{results/all_modes_comparison3_pbch_fer_distance_travelled.pdf}

\subsection{Speed}

\printfile{Mode1/results/DLSCH_throughput_speed.pdf}
\printfile{Mode2/results/DLSCH_throughput_speed.pdf}

\printfile{Mode6/results/DLSCH_throughput_speed.pdf}

\printfile{Mode6/results/UL_throughput_ideal_1Rx_gps.jpg}
\printfile{Mode6/results/UL_throughput_ideal_2Rx_gps.jpg}

\subsubsection{Distance}
\printfile{Mode6/results/UL_throughput_dist.pdf}
\printfile{Mode6/results/UL_throughput_ideal_1Rx_dist.pdf}
\printfile{Mode6/results/UL_throughput_ideal_2Rx_dist.pdf}

\subsubsection{Speed}
\printfile{Mode6/results/UL_throughput_speed.pdf}

\begin{table}
\centering
\begin{tabular}{l|l|l|l}
speed (m/s) & Mode 1 & Mode 2 & Mode 6\\
\hline
0--5   &   0.3876  &  0.5360 &   0.8385\\
5--10  &   0.6776  &  0.4844 &   0.6915\\
10--15 &   0.5553  &  0.5015 &   0.6192\\
15--20 &   0.5694  &  0.5402 &   0.6677\\
20--25 &   0.5133  &  0.5376 &   0.5087\\
25--30 &   0.5364  &  0.5480 &   0.6111\\
30--35 &   0.0909  &     NaN &      NaN\\
35--40 &      NaN  &     NaN &      NaN\\
\end{tabular}
\caption{Service coverage for all three modes in percent.}
\end{table}

\section{L0 (uncoded) throughput}

\printfile{results/DLSCH_uncoded_throughput_cdf_comparison.pdf}
\printfile{results/DLSCH_uncoded_throughput_connected_cdf_comparison.pdf}

\printfile{Mode6/results/UL_uncoded_throughput_cdf_comparison.pdf}

\end{document}          
