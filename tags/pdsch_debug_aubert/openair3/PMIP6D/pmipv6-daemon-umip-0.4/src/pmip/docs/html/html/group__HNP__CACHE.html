<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenAirInterface-PMIP6D: HOME NETWORK PREFIX CACHE</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>HOME NETWORK PREFIX CACHE<br/>
<small>
[<a class="el" href="group__PMIP6D.html">ProxyMobileIPv6</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmnid__hnp__t.html">mnid_hnp_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data structure to store the association of a network prefix and a mobile interface identifier.  <a href="structmnid__hnp__t.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga455eb206768e768a273a7d9fc6026d1c"></a><!-- doxytag: member="HNP_CACHE::private_pmip_hnp_cache" ref="ga455eb206768e768a273a7d9fc6026d1c" args="(x)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>private_pmip_hnp_cache</b>(x)&nbsp;&nbsp;&nbsp;x</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga20f13097af07b97271a10809963b1dab"></a><!-- doxytag: member="HNP_CACHE::protected_pmip_hnp_cache" ref="ga20f13097af07b97271a10809963b1dab" args="(x)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>protected_pmip_hnp_cache</b>(x)&nbsp;&nbsp;&nbsp;x</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5ff4e3a23524658b7b41e25f026a0b5c"></a><!-- doxytag: member="HNP_CACHE::public_pmip_hnp_cache" ref="ga5ff4e3a23524658b7b41e25f026a0b5c" args="(x)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>public_pmip_hnp_cache</b>(x)&nbsp;&nbsp;&nbsp;x</td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7b7883a76b823cf634965160ea1021d7"></a><!-- doxytag: member="HNP_CACHE::mnid_hnp_t" ref="ga7b7883a76b823cf634965160ea1021d7" args="" -->
typedef struct <a class="el" href="structmnid__hnp__t.html">mnid_hnp_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>mnid_hnp_t</b></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct in6_addr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__HNP__CACHE.html#ga41a5c4c8f19b3a64f9bdd34d67ac5ef2">eth_address2hw_address</a> (struct in6_addr iid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Translate an interface id (ipv6 suffix of 8 bytes) into a MAC address (6 bytes).  <a href="#ga41a5c4c8f19b3a64f9bdd34d67ac5ef2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct in6_addr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__HNP__CACHE.html#ga38e1c008a72ef18b0bc61a964bc9e070">hw_address2eth_address</a> (struct in6_addr macaddr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Translate a MAC address (6 bytes) into an interface id (ipv6 suffix of 8 bytes).  <a href="#ga38e1c008a72ef18b0bc61a964bc9e070"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__HNP__CACHE.html#gad8a819066fc9afda0c41938ed0f18e25">pmip_insert_into_hnp_cache</a> (struct in6_addr mn_iid, struct in6_addr addr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Insert into the cache, the mapping between the mobile node iid and the assigned ipv6 address.  <a href="#gad8a819066fc9afda0c41938ed0f18e25"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gadd58c5321663042183944589babff509"></a><!-- doxytag: member="HNP_CACHE::pmip_lma_mn_to_hnp_cache_init" ref="gadd58c5321663042183944589babff509" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__HNP__CACHE.html#gadd58c5321663042183944589babff509">pmip_lma_mn_to_hnp_cache_init</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the home network prefix cache in the LMA. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct in6_addr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__HNP__CACHE.html#ga942a20a91d369315719861a5f9c86e06">lma_mnid_hnp_map</a> (struct in6_addr mnid, int *aaa_result)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Search if the mobile node id is already associated with a prefix in the hnp map.  <a href="#ga942a20a91d369315719861a5f9c86e06"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__HNP__CACHE.html#gae8c70587bb7693dc2cfcb4296c6773cd">pmip_mn_to_hnp_cache_init</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the home network prefix cache, if RADIUS is not configured the matching between MAC addresse and prefixes is read from a FILE "match".  <a href="#gae8c70587bb7693dc2cfcb4296c6773cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct in6_addr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__HNP__CACHE.html#gaca865d0019b0d93acac4785d9b035ea3">mnid_hnp_map</a> (struct in6_addr mnid, int *aaa_result)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Search if the mobile node id is already associated with a prefix in the hnp map.  <a href="#gaca865d0019b0d93acac4785d9b035ea3"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>PMIP HNP Cache </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga41a5c4c8f19b3a64f9bdd34d67ac5ef2"></a><!-- doxytag: member="pmip_hnp_cache.h::eth_address2hw_address" ref="ga41a5c4c8f19b3a64f9bdd34d67ac5ef2" args="(struct in6_addr iid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct in6_addr eth_address2hw_address </td>
          <td>(</td>
          <td class="paramtype">struct in6_addr&nbsp;</td>
          <td class="paramname"> <em>iid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Translate an interface id (ipv6 suffix of 8 bytes) into a MAC address (6 bytes). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>iid</em>&nbsp;</td><td>A IPV6 interface id </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The computed MAC address. </dd></dl>

</div>
</div>
<a class="anchor" id="ga38e1c008a72ef18b0bc61a964bc9e070"></a><!-- doxytag: member="pmip_hnp_cache.h::hw_address2eth_address" ref="ga38e1c008a72ef18b0bc61a964bc9e070" args="(struct in6_addr macaddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct in6_addr hw_address2eth_address </td>
          <td>(</td>
          <td class="paramtype">struct in6_addr&nbsp;</td>
          <td class="paramname"> <em>macaddr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Translate a MAC address (6 bytes) into an interface id (ipv6 suffix of 8 bytes). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>macaddr</em>&nbsp;</td><td>A MAC address. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The IPV6 interface id. </dd></dl>

</div>
</div>
<a class="anchor" id="ga942a20a91d369315719861a5f9c86e06"></a><!-- doxytag: member="pmip_hnp_cache.h::lma_mnid_hnp_map" ref="ga942a20a91d369315719861a5f9c86e06" args="(struct in6_addr mnid, int *aaa_result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct in6_addr lma_mnid_hnp_map </td>
          <td>(</td>
          <td class="paramtype">struct in6_addr&nbsp;</td>
          <td class="paramname"> <em>mnid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Search if the mobile node id is already associated with a prefix in the hnp map. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>mn_iid</em>&nbsp;</td><td>Mobile node interface identifier (MAC address). </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>result</em>&nbsp;</td><td>Status of the search, 0 if success, else -1 </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A valid prefix if the mobile node id is already associated with a prefix in the hnp map. </dd></dl>

</div>
</div>
<a class="anchor" id="gaca865d0019b0d93acac4785d9b035ea3"></a><!-- doxytag: member="pmip_hnp_cache.h::mnid_hnp_map" ref="gaca865d0019b0d93acac4785d9b035ea3" args="(struct in6_addr mnid, int *aaa_result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct in6_addr mnid_hnp_map </td>
          <td>(</td>
          <td class="paramtype">struct in6_addr&nbsp;</td>
          <td class="paramname"> <em>mnid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>aaa_result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Search if the mobile node id is already associated with a prefix in the hnp map. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>mn_iid</em>&nbsp;</td><td>Mobile node interface identifier (MAC address). </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aaa_result</em>&nbsp;</td><td>Status of the search, greater than, or equal to zero if success, else -1. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A valid prefix if the mobile node id is already associated with a prefix in the hnp map. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Called in MAG only. If the association is not found in the map, then the radius server is queried for a network prefix, once the response has been received, if successful, the association is stored in the cach, so the radius server will not be queried for this mobile node on this MAG, even if the mobile node leaves the geographical area covered by the MAG and re-enter again. </dd></dl>

</div>
</div>
<a class="anchor" id="gad8a819066fc9afda0c41938ed0f18e25"></a><!-- doxytag: member="pmip_hnp_cache.h::pmip_insert_into_hnp_cache" ref="gad8a819066fc9afda0c41938ed0f18e25" args="(struct in6_addr mn_iid, struct in6_addr addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pmip_insert_into_hnp_cache </td>
          <td>(</td>
          <td class="paramtype">struct in6_addr&nbsp;</td>
          <td class="paramname"> <em>mn_iid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct in6_addr&nbsp;</td>
          <td class="paramname"> <em>addr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Insert into the cache, the mapping between the mobile node iid and the assigned ipv6 address. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>mn_iid</em>&nbsp;</td><td>Mobile node interface identifier (MAC address). </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>addr</em>&nbsp;</td><td>Network Address Prefix for the mobile node </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function check for duplicates </dd></dl>

</div>
</div>
<a class="anchor" id="gae8c70587bb7693dc2cfcb4296c6773cd"></a><!-- doxytag: member="pmip_hnp_cache.h::pmip_mn_to_hnp_cache_init" ref="gae8c70587bb7693dc2cfcb4296c6773cd" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pmip_mn_to_hnp_cache_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize the home network prefix cache, if RADIUS is not configured the matching between MAC addresse and prefixes is read from a FILE "match". </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero if success, else other values. </dd></dl>

</div>
</div>
</div>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
<html xml:lang="en">
<head>
<title> </title>
</head>

<body>-->
&nbsp;
&nbsp;
<DIV ALIGN=CENTER>
<img alt="EURECOM - PMIP6D" src="http://mmsp01.eurecom.fr/EURECOM_logo.gif" height="90" width="270" />
</DIV>
</body>

</html>
