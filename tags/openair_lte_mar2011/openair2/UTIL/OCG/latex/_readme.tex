The content of this readme is the following:

\begin{enumerate}
\item What is this block about in OpenAirInterface\item Organization of the folders and their dependancies\item Folders and files description\item Makefile targets and how to build\item How to use OCG: run a simple experimentation\end{enumerate}
\section{What is this block about in OpenAirInterface ?}\label{_readme__block}
This block is called OpenAirInterface Configuration Generation (OCG). Its major function is to parse the XML configuration file and configure an emulation.

When the user specifies a scenario for emulation from the web portal, the web portal will generate an XML configuration file in the scenario folder of OCG. OCG automatically detects this file and initiates an emulation for it. During the emulation, OCG calls other blocks (such as MobiGen and TrafficGen) and gets feedbacks from them. After the emulation, OCG generates output files in the created folder of the emulation.

OCG contains the following key modules:

a) get opt : Get options of the OCG command, e.g. \char`\"{}OCG -f\char`\"{} and \char`\"{}OCG -h\char`\"{}

b) detect file : Detect new XML configuration file in the scenario folder

c) parse filename : Parse the filename to get user name and file date

d) create dir : Create directory in the output directory for an emulation

e) parse XML : Parse the XML configuration file

f) save XML : Save the XML configuration file in created directory

g) call emu : Call the emulator

h) generate report : Generate a report to show the states of OCG modules

\section{Organization of the folders and their dependancies}\label{_readme__organization}
\begin{TabularC}{2}
\hline
Folder &Description   \\\cline{1-2}
src/&contains source files \\\cline{1-2}
include/&contains header files \\\cline{1-2}
demo/&contains XML configuration files for demo \\\cline{1-2}
detecting\_\-XML/&contains nothing, but OCG will detect here the XML files generated by the web portal \\\cline{1-2}
output\_\-folder/&if filename of the XML file can be successfully parsed, OCG creates output folders for users and generates output files for emulations here \\\cline{1-2}
temp\_\-output\_\-folder/&if filename of the XML file cannot be successfully parsed, OCG generates an output file here \\\cline{1-2}
\end{TabularC}
\section{Folders and files description}\label{_readme__folders}
\begin{TabularC}{2}
\hline
Folder/File &Description   \\\cline{1-2}
src/OCG.c&contains the main() function with the FSM of OCG \\\cline{1-2}
src/OCG\_\-get\_\-opt.c&contains the \doxyref{get\_\-opt()}{p.}{group____get__opt_g8b95dd202084d1f3c860a738cfb8b38a} function \\\cline{1-2}
src/OCG\_\-detect\_\-file.c&contains the \doxyref{detect\_\-file()}{p.}{group____detect__file_g4f23aa705922bf0009ce6810b0e44c20} function \\\cline{1-2}
src/OCG\_\-parse\_\-filename.c&contains the \doxyref{parse\_\-filename()}{p.}{group____parse__filename_g0ec64ec9034234705f9b0dfd5b5b5c42} function \\\cline{1-2}
src/OCG\_\-create\_\-dir.c&contains the \doxyref{create\_\-dir()}{p.}{group____create__dir_g1146e990e256636ef351e2151f845048} function \\\cline{1-2}
src/OCG\_\-parse\_\-XML.c&contains the \doxyref{parse\_\-XML()}{p.}{group____parse__XML_gfc1e652560c50b9200f9cec586024088} function \\\cline{1-2}
src/OCG\_\-save\_\-XML.c&contains the \doxyref{save\_\-XML()}{p.}{group____save__XML_gd4a5592435058c09f710a025ddba771e} function \\\cline{1-2}
src/OCG\_\-call\_\-emu.c&contains the \doxyref{call\_\-emu()}{p.}{group____call__emu_g24e7d3ae92f5cecf198c10a7232f4fec} function \\\cline{1-2}
src/OCG\_\-generate\_\-report.c&contains the \doxyref{generate\_\-report()}{p.}{group____generate__report_gf2dd627644c186326cc894d6a8d11217} function \\\cline{1-2}
include/OCG.h&header file of main(), contains the data structure of the basic OpenAirInterface Scenario Descriptor (OSD), etc. \\\cline{1-2}
include/OCG\_\-get\_\-opt.h&header file of \doxyref{get\_\-opt()}{p.}{group____get__opt_g8b95dd202084d1f3c860a738cfb8b38a} \\\cline{1-2}
include/OCG\_\-detect\_\-file.h&header file of \doxyref{detect\_\-file()}{p.}{group____detect__file_g4f23aa705922bf0009ce6810b0e44c20} \\\cline{1-2}
include/OCG\_\-parse\_\-filename.h&header file of \doxyref{parse\_\-filename()}{p.}{group____parse__filename_g0ec64ec9034234705f9b0dfd5b5b5c42} \\\cline{1-2}
include/OCG\_\-create\_\-dir.h&header file of \doxyref{create\_\-dir()}{p.}{group____create__dir_g1146e990e256636ef351e2151f845048} \\\cline{1-2}
include/OCG\_\-parse\_\-XML.h&header file of \doxyref{parse\_\-XML()}{p.}{group____parse__XML_gfc1e652560c50b9200f9cec586024088}, contains the declaration of parsing position indicators \\\cline{1-2}
include/OCG\_\-save\_\-XML.h&header file of \doxyref{save\_\-XML()}{p.}{group____save__XML_gd4a5592435058c09f710a025ddba771e} \\\cline{1-2}
include/OCG\_\-call\_\-emu.h&header file of \doxyref{call\_\-emu()}{p.}{group____call__emu_g24e7d3ae92f5cecf198c10a7232f4fec} \\\cline{1-2}
include/OCG\_\-generate\_\-report.h&header file of \doxyref{generate\_\-report()}{p.}{group____generate__report_gf2dd627644c186326cc894d6a8d11217} \\\cline{1-2}
demo/eurecom.20110208110244.xml&contains a demo \\\cline{1-2}
\end{TabularC}
\section{Makefile targets and how to build}\label{_readme__makefile}
CC= gcc CFLAGS = -I/usr/include/libxml2 LIB = -lxml2

OCG: \$\{CC\} \$\{CFLAGS\} \$\{LIB\} src/OCG.c src/OCG\_\-get\_\-opt.c src/OCG\_\-detect\_\-file.c src/OCG\_\-parse\_\-filename.c src/OCG\_\-create\_\-dir.c src/OCG\_\-parse\_\-XML.c src/OCG\_\-save\_\-XML.c src/OCG\_\-call\_\-emu.c src/OCG\_\-generate\_\-OCG\_\-report.c -o OCG\section{How to use OCG: run a simple experimentation}\label{_readme__howto}
There are two methods to use the OCG for an emulation:

a) DEMO mode : use command \char`\"{}OCG -f filename\char`\"{} to run a DEMO mode emulation

The following steps are required for a DEMO mode emulation:

i) Put your XML configuration file into the demo/ folder;

ii) Change the filename as user\_\-name.file\_\-date.xml;

iii) Run the emulation with the above command;

iv) Check debug information in the shell, which indicates you the directory where OCG generates the outputs.

To run an existing demo XML file, step i) and ii) are not required.

Note that OCG automatically set the path of a demo XML file as demo/, so only filename is required in the command.

b) USER mode : use command \char`\"{}OCG\char`\"{} to start OCG as a daemon

The following steps are required for a USER mode emulation:

i) Run OCG as a daemon with the above command;

iiA) Configure an emulation scenario through the web portal and press the button to generate an XML file; or

iiB) Copy your XML file to the detecting\_\-XML/ folder directly;

iii) Check debug information in the shell, which indicates you the directory where OCG generates the outputs.

For option iiB), make sure the filename is with the correct format \char`\"{}user\_\-name.file\_\-date.xml\char`\"{}. Moreover, make sure the configuration in the XML file is correct.

For the format of the XML configuration file, refer to \char`\"{}demo/eurecom.20110208110244.xml\char`\"{}. 